(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{1760:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=1760,e.exports=t},3487:(e,t,a)=>{"use strict";function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(r)}function s(e){let[t,a,r]=e.split("-").map(Number);return new Date(t,(null!=a?a:1)-1,null!=r?r:1)}function n(e){let t=s(e),a=t.getDate(),r=a%10==1&&a%100!=11?"st":a%10==2&&a%100!=12?"nd":a%10==3&&a%100!=13?"rd":"th";return"".concat(t.toLocaleDateString(void 0,{month:"long",day:"numeric"})).concat(r,"’s habits")}function l(e){return s(e).toLocaleDateString(void 0,{month:"short",day:"numeric"})}a.d(t,{KS:()=>l,RX:()=>n,kQ:()=>r})},3867:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var r=a(5155),s=a(2115),n=a(5695),l=a(4983),c=a(3487);function i(){let[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[i,o]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{o(!0);try{let[e,a]=await Promise.all([l.N.from("habits").select("id,name,emoji").order("created_at",{ascending:!0}),l.N.from("habit_entries").select("habit_id,date").gte("date",function(){let e=new Date;return e.setFullYear(e.getFullYear()-1),e.toISOString().slice(0,10)}()).order("date",{ascending:!0})]);!e.error&&e.data&&t(e.data),!a.error&&a.data&&n(a.data)}finally{o(!1)}})()},[]);let d=Array.from(new Set(a.map(e=>e.date))).sort().map((e,t)=>({ds:e,dayNum:t+1})),m=d.length>0;return(0,r.jsxs)("div",{className:"section",children:[(0,r.jsx)("div",{className:"text-center mb-3",children:(0,r.jsx)("h3",{className:"h-title",children:"Progress Dashboard"})}),(0,r.jsx)("div",{className:"relative overflow-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm border-separate border-spacing-0",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"sticky left-0 z-20 bg-[var(--color-card)] text-left px-3 py-2 font-medium border-b",children:"Day / Date"}),e.map(e=>(0,r.jsxs)("th",{className:"px-2 py-2 text-center font-medium border-b",children:[(0,r.jsx)("span",{className:"mr-1",children:e.emoji}),e.name]},e.id))]})}),(0,r.jsx)("tbody",{children:i?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{className:"px-3 py-6 muted",colSpan:1+e.length,children:"Loading…"})}):m?d.map(t=>{let{ds:s,dayNum:n}=t;return(0,r.jsxs)("tr",{className:"hover:bg-black/[0.02]",children:[(0,r.jsxs)("td",{className:"sticky left-0 z-10 bg-[var(--color-card)] px-3 py-2 whitespace-nowrap border-b",style:{boxShadow:"2px 0 0 0 rgba(0,0,0,0.05)"},children:["Day ",n," / ",(0,c.KS)(s)]}),e.map(e=>{let t=a.some(t=>t.habit_id===e.id&&t.date===s);return(0,r.jsx)("td",{className:"border-b",children:(0,r.jsx)("div",{className:"mx-auto my-1 w-7 h-7 rounded-md border flex items-center justify-center ".concat(t?"bg-black text-white":"bg-white"),title:t?"Completed":"",children:t?e.emoji:""})},e.id+s)})]},s)}):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{className:"px-3 py-6 muted",colSpan:1+e.length,children:"No check-ins yet. Mark habits in the Command Center."})})})]})})]})}function o(){let e=(0,n.useRouter)();return(0,s.useEffect)(()=>{l.N.auth.getSession().then(t=>{let{data:a}=t;a.session||e.replace("/login")})},[e]),(0,r.jsx)("main",{className:"min-h-screen bg-[var(--color-background)] text-[var(--color-foreground)] p-6",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[(0,r.jsxs)("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"col-span-1 lg:col-span-2 space-y-4",children:(0,r.jsx)(i,{})}),(0,r.jsx)("div",{className:"col-span-1 space-y-4"})]}),(0,r.jsxs)("footer",{className:"text-center text-xs text-[var(--color-muted)] py-6",children:["Aurova • \xa9 ",new Date().getFullYear()]})]})})}},4983:(e,t,a)=>{"use strict";a.d(t,{N:()=>r});let r=(0,a(2354).UU)("https://giaibbhanqkjyutdkbie.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdpYWliYmhhbnFranl1dGRrYmllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5NTQ3ODcsImV4cCI6MjA3MDUzMDc4N30.m2nW2vtmDqR2A3LG7-uoX1I6Kf-H7szmYVypl3b-kQo",{auth:{persistSession:!0,autoRefreshToken:!0}})},5241:(e,t,a)=>{Promise.resolve().then(a.bind(a,3867))},5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})}},e=>{e.O(0,[354,441,964,358],()=>e(e.s=5241)),_N_E=e.O()}]);